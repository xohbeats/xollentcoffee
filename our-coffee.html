<!-- Coffee Menu Section -->
<section class="shopify-menu-section" id="menu">
  <div class="container">
    <h2 class="menu-title">Our Coffee Blends</h2>

    <div class="shopify-product-grid">

      <!-- Product 1: Morning Tempo -->
      <div class="shopify-product-card">
        <div id="product-component-morning-tempo"></div>
      </div>

      <!-- Product 2: The Creative -->
      <div class="shopify-product-card">
        <div id="product-component-the-creative"></div>
      </div>

      <!-- Product 3: Rhythmic Cocoa -->
      <div class="shopify-product-card">
        <div id="product-component-rhythmic-cocoa"></div>
      </div>

    </div>
  </div>
</section>

<script type="text/javascript">
(function () {
  var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
  if (window.ShopifyBuy) {
    if (window.ShopifyBuy.UI) {
      ShopifyBuyInit();
    } else {
      loadScript();
    }
  } else {
    loadScript();
  }

  function loadScript() {
    var script = document.createElement('script');
    script.async = true;
    script.src = scriptURL;
    (document.head || document.body).appendChild(script);
    script.onload = ShopifyBuyInit;
  }

  function ShopifyBuyInit() {
    var client = ShopifyBuy.buildClient({
      domain: 'audqzb-5a.myshopify.com',
      storefrontAccessToken: '9a6d8ac773cefc6d62bd48478560449f',
    });

    ShopifyBuy.UI.onReady(client).then(function (ui) {
      const products = [
        {
          id: '10126104396088', // Morning Tempo
          nodeId: 'product-component-morning-tempo'
        },
        {
          id: '10126104428856', // The Creative (Xollent Brew)
          nodeId: 'product-component-the-creative'
        },
        {
          id: '10126104461624', // Rhythmic Cocoa
          nodeId: 'product-component-rhythmic-cocoa'
        }
      ];

      products.forEach(product => {
        ui.createComponent('product', {
          id: product.id,
          node: document.getElementById(product.nodeId),
          moneyFormat: '%24%7B%7Bamount%7D%7D',
          options: {
            product: {
              styles: {
                product: {
                  "@media (min-width: 601px)": {
                    "max-width": "100%",
                    "margin": "0 auto",
                  }
                }
              },
              text: {
                button: "Add to Cart"
              }
            },
            cart: {
              text: {
                total: "Subtotal",
                button: "Checkout"
              }
            }
          }
        });
      });
    });
  }
})();
</script>
